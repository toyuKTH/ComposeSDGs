/* ========== äº”çº¿è°±å’ŒéŸ³ç¬¦ä½ç½®é…ç½® ========== */
/*
  ç»Ÿä¸€æ–¹æ¡ˆï¼šå•éŸ³ç¬¦å’Œå’Œå¼¦éƒ½ä½¿ç”¨ .chord å®¹å™¨
  
  HTML ç»“æ„ï¼ˆç»Ÿä¸€ï¼‰ï¼š
    <div class="note-group">
      <div class="chord">
        <div class="quarter-note chord-note note-value-71-80">
        <!-- å’Œå¼¦æ—¶æœ‰å¤šä¸ª chord-note -->
  
  éŸ³ç¬¦ä½ç½®æ˜ å°„ï¼ˆtop å€¼è¶Šå° = ä½ç½®è¶Šé«˜ = éŸ³é«˜è¶Šé«˜ï¼‰ï¼š
  0-10:   C4 â†’ 100px (ä¸‹åŠ ä¸€çº¿) æœ€ä½éŸ³ â¬‡ï¸
  11-20:  D4 â†’ 94px
  21-30:  E4 â†’ 88px (ç¬¬5çº¿)
  31-40:  F4 â†’ 82px
  41-50:  G4 â†’ 76px (ç¬¬4çº¿)
  51-60:  A4 â†’ 70px
  61-70:  B4 â†’ 64px (ç¬¬3çº¿ï¼Œä¸­å¤®)
  71-80:  C5 â†’ 58px
  81-90:  D5 â†’ 52px (ç¬¬2çº¿)
  91-100: E5 â†’ 46px (ç¬¬1-2çº¿é—´) æœ€é«˜éŸ³ â¬†ï¸
*/

/* ========== äº”çº¿è°±çº¿æ¡ä½ç½® ========== */
.staff-line.line-1 { top: 56px !important; }
.staff-line.line-2 { top: 68px !important; }
.staff-line.line-3 { top: 80px !important; }
.staff-line.line-4 { top: 92px !important; }
.staff-line.line-5 { top: 104px !important; }

/* ========== é«˜éŸ³è°±å·ä½ç½® ========== */
.treble_clef {
  top: 80px !important;
}

/* ========== å°èŠ‚çº¿ä½ç½® ========== */
.bar-line {
  top: 56px !important;
  height: 48px !important;
}

/* ========== éŸ³ç¬¦å®¹å™¨ä½ç½® ========== */
.note-container {
  top: -0px !important;
  align-items: flex-start !important;
}

/* ========== éŸ³ç¬¦å ä½ç¬¦ ========== */
.note-placeholder {
  height: 120px !important;
  align-items: flex-start !important;
  padding-top: 20px;
}

/* ========== éŸ³ç¬¦ç»„å®¹å™¨ ========== */
.note-group {
  height: 120px !important;
  align-items: flex-start !important;
  justify-content: flex-start !important;
  padding-top: 20px;
  position: relative !important;
}

/* ========== ğŸ”¥ å’Œå¼¦å®¹å™¨ï¼šç¦ç”¨ flex å¸ƒå±€ï¼Œä½¿ç”¨ç»å¯¹å®šä½ ========== */
.chord {
  display: block !important;      /* è¦†ç›– style.css çš„ flex */
  position: relative !important;
  height: 120px !important;
  width: 20px !important;
  
  /* ç§»é™¤ flex ç›¸å…³å±æ€§ */
  flex-direction: unset !important;
  align-items: unset !important;
  gap: 0px !important;
}

/* ========== å’Œå¼¦ä¸­çš„æ‰€æœ‰éŸ³ç¬¦ï¼šç»å¯¹å®šä½ ========== */
.chord .chord-note {
  position: absolute !important;
  margin-bottom: 0 !important;
  left: 0 !important;
}

/* ========== éŸ³ç¬¦ä½ç½®æ˜ å°„ ========== */
.chord .chord-note.note-value-0-10 { 
  top: 90px !important; 
}

.chord .chord-note.note-value-11-20 { 
  top: 84px !important; 
}

.chord .chord-note.note-value-21-30 { 
  top: 78px !important; 
}

.chord .chord-note.note-value-31-40 { 
  top: 72px !important; 
}

.chord .chord-note.note-value-41-50 { 
  top: 66px !important; 
}

.chord .chord-note.note-value-51-60 { 
  top: 60px !important; 
}

.chord .chord-note.note-value-61-70 { 
  top: 54px !important; 
}

.chord .chord-note.note-value-71-80 { 
  top: 48px !important; 
}

.chord .chord-note.note-value-81-90 { 
  top: 42px !important; 
}

.chord .chord-note.note-value-91-100 { 
  top: 36px !important; 
}

/* ========== ä¸‹åŠ çº¿ ========== */
.ledger-line-below {
  position: absolute;
  width: 22px;
  height: 2px;
  background: #2c3e50;
  left: 50%;
  transform: translateX(-50%);
  z-index: 0;
}

.ledger-line-c {
  top: 100px;
}

/* ========== å›½å®¶æ ‡ç­¾ ========== */
.note-label {
  top: 10px !important;
  left: -5px;
  bottom: auto !important;
  position: absolute !important;
}

/* ========== åˆ é™¤æŒ‰é’® ========== */
.delete-note-btn {
  top: 30px !important;
}

/* ========== ç¬¦æ† ========== */
/* 
  äº”çº¿è°±ç¬¦æ†è§„åˆ™ï¼š
  - ç¬¬ä¸‰çº¿ä»¥ä¸‹ï¼ˆvalue â‰¤ 60ï¼‰ï¼šç¬¦æ†åœ¨ç¬¦å¤´å³ä¾§ï¼Œå‘ä¸Šå»¶ä¼¸ â†‘
  - ç¬¬ä¸‰çº¿åŠä»¥ä¸Šï¼ˆvalue > 60ï¼‰ï¼šç¬¦æ†åœ¨ç¬¦å¤´å·¦ä¾§ï¼Œå‘ä¸‹å»¶ä¼¸ â†“
  
  ç¬¦å¤´å®½åº¦: 16pxï¼Œé«˜åº¦: 12px
  ç¬¦æ†å®½åº¦: 2px
*/

/* é»˜è®¤ç¬¦æ†æœä¸Šï¼šåœ¨ç¬¦å¤´å³ä¾§å‘ä¸Šå»¶ä¼¸ï¼ˆç”¨äº value â‰¤ 60ï¼‰ */
.note-stem {
  position: absolute !important;
  width: 2px !important;
  height: 35px !important;
  /* ç¬¦æ†ä»ç¬¦å¤´é¡¶éƒ¨å‘ä¸Šå»¶ä¼¸ */
  bottom: 6px !important;
  top: auto !important;
  /* ç¬¦æ†åœ¨ç¬¦å¤´å³è¾¹ç¼˜ */
  right: 1px !important;
  left: auto !important;
}

.chord .chord-note .note-stem {
  height: 50px !important;
  bottom: 6px !important;
  top: auto !important;
  right: 1px !important;
  left: auto !important;
  display: block !important;
}

/* åªæ˜¾ç¤ºç¬¬ä¸€ä¸ªéŸ³ç¬¦çš„ç¬¦æ†ï¼ˆç¬¦æ†æœä¸Šæ—¶ï¼Œä»æœ€ä½éŸ³å»¶ä¼¸ï¼‰ */
.chord .chord-note:first-child .note-stem {
  display: block !important;
}

.chord .chord-note:not(:first-child) .note-stem {
  /* display: none !important; */
}

/* ========== ç¬¦å¤´ ========== */
.note-head {
  position: relative !important;
  background-color: currentColor !important;
}

/* ========== ç¬¦æ†æœä¸‹æ ·å¼ (value > 60ï¼Œç¬¬ä¸‰çº¿åŠä»¥ä¸Š) ========== */
/*
  ç¬¦æ†æœä¸‹æ—¶ï¼š
  - ç¬¦æ†åœ¨ç¬¦å¤´å·¦ä¾§
  - ä»ç¬¦å¤´å‘ä¸‹å»¶ä¼¸
*/
.stem-down .note-stem {
  /* ç¬¦æ†åœ¨ç¬¦å¤´å·¦è¾¹ç¼˜ */
  right: auto !important;
  left: 1px !important;
  /* ç¬¦æ†ä»ç¬¦å¤´åº•éƒ¨å‘ä¸‹å»¶ä¼¸ */
  bottom: auto !important;
  top: 6px !important;
}

/* å’Œå¼¦ä¸­ç¬¦æ†æœä¸‹çš„å¤„ç† */
.chord .chord-note.stem-down .note-stem {
  right: auto !important;
  left: 1px !important;
  bottom: auto !important;
  top: 6px !important;
}

/* å½“å’Œå¼¦ä¸­æœ‰ç¬¦æ†æœä¸‹çš„éŸ³ç¬¦æ—¶ï¼Œåªæ˜¾ç¤ºæœ€åä¸€ä¸ªï¼ˆæœ€é«˜éŸ³ï¼‰çš„ç¬¦æ† */
.chord:has(.stem-down) .chord-note .note-stem {
  display: none !important;
}

.chord:has(.stem-down) .chord-note.stem-down:last-of-type .note-stem {
  display: block !important;
}